# 五子棋遊戲 PRD (Product Requirements Document)

## 1. 專案概述

### 1.1 專案名稱
五子棋 (Gomoku) 簡易版

### 1.2 專案描述
開發一個簡單的五子棋遊戲，採用前後端分離架構，後端負責遊戲邏輯控制，前端負責界面渲染。

### 1.3 目標用戶
- 想要快速遊玩五子棋的用戶
- 希望與朋友面對面對戰的玩家

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 遊戲核心邏輯
- **棋盤**: 15x15 標準棋盤
- **獲勝條件**: 橫、直、斜任意方向連續五子
- **落子規則**: 輪流落子，黑棋先手
- **遊戲結束**: 分出勝負或棋盤下滿和局

#### 2.1.2 遊戲模式
- **本地對戰**: 兩人輪流在同一設備上對戰，遊戲狀態由後端管理

## 3. 技術架構

### 3.1 前端技術棧
- **框架**: HTML5 + CSS3 + JavaScript (原生)
- **棋盤渲染**: HTML5 Canvas
- **HTTP請求**: Fetch API
- **部署**: 靜態網頁託管

### 3.2 後端技術棧
- **語言**: Python 3.8+
- **框架**: FastAPI
- **遊戲邏輯**: 純Python實現
- **數據存儲**: 內存存儲（簡易版）
- **部署**: Uvicorn

### 3.3 通信架構
- **協議**: HTTP/HTTPS
- **數據格式**: JSON
- **前後端分離**: RESTful API

### 3.4 職責分工
- **前端責任**: 
  - 棋盤渲染和用戶界面
  - 用戶輸入處理
  - 與後端API通信
  - 界面狀態更新

- **後端責任**:
  - 遊戲邏輯控制
  - 棋盤狀態管理
  - 勝負判斷
  - 遊戲規則驗證

## 4. 用戶界面設計

### 4.1 頁面結構
```
遊戲頁面
├── 棋盤區域 (15x15 網格)
├── 遊戲資訊 (當前玩家、遊戲狀態)
└── 控制按鈕 (重新開始、悔棋)
```

### 4.2 UI設計要求
- **簡潔界面**: 專注於遊戲本身
- **清晰視覺**: 棋子和棋盤對比明顯
- **響應式**: 適配不同螢幕大小

## 5. API設計

### 5.1 遊戲相關API
```
POST /api/game/start      # 開始新遊戲
GET  /api/game/{game_id}  # 獲取遊戲狀態
POST /api/game/{game_id}/move  # 落子
POST /api/game/{game_id}/reset # 重新開始
```

### 5.2 數據模型
```json
{
  "game_id": "string",
  "board": "array[15][15]",  // 0: 空位, 1: 黑子, 2: 白子
  "current_player": "integer",  // 1: 黑子, 2: 白子
  "game_status": "string",  // "playing", "black_wins", "white_wins", "draw"
  "winner": "integer"  // null, 1, 2
}
```

## 6. 開發階段規劃

### 6.1 階段一：後端基礎 (Week 1)
- [ ] 搭建FastAPI項目結構
- [ ] 實現五子棋遊戲邏輯類
- [ ] 實現勝負判斷算法
- [ ] 創建基本API接口

### 6.2 階段二：前端實現 (Week 2)
- [ ] 創建HTML頁面結構
- [ ] 使用Canvas繪製棋盤
- [ ] 實現點擊事件處理
- [ ] 集成後端API調用

### 6.3 階段三：前後端整合 (Week 3)
- [ ] 前後端聯調測試
- [ ] 優化用戶體驗
- [ ] 錯誤處理和邊界情況
- [ ] 部署和文檔

## 7. 成功指標

- [ ] 後端API正常運行
- [ ] 前端界面友好易用
- [ ] 前後端通信正常
- [ ] 遊戲邏輯正確執行